<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Two Pointer Visualizer</title>
  <script src="https://cdn.tailwindcss.com"></script>
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0-beta3/css/all.min.css">
  <style>
    .queue-container {
        margin-top: 15px;
            display: flex;
            align-items: center;
            border: 2px solid #333;
            border-radius: 8px;
            width: 100%;
            height: 400px;
            margin-bottom: 20px;
            background-color: #202938;
            overflow-x: auto;
            max-width: 100%;
            border: .5px solid #fff;
        }

        .queue-element {
            padding: 8px;
            margin: 2px;
            background-color: #384152;
            color: #fff;
            font-weight: bold;
            border-radius: 5px;
            text-align: center;
            min-width: 50px;
        }
  </style>
</head>

<body class="bg-gray-900 text-white">
  <div class="flex h-full">
    <!-- Sidebar -->
    <div
      class="fixed top-0 left-0 h-full w-16 md:w-64 bg-gray-800 text-gray-400 flex flex-col items-center md:items-start p-4 shadow-lg">
      <h2
        class="hidden md:block text-transparent text-lg font-semibold mb-4 bg-clip-text bg-gradient-to-r from-pink-500 to-purple-500">
        Two Pointers</h2>
      <ul class="space-y-4">
        <li class="text-center md:text-left">
          <a href="TwoSum.html"
            class="flex items-center space-x-2 py-1 hover:text-white">
            <i class="fas fa-th-large"></i>
            <span class="hidden md:inline">Two Sum - All Pairs</span>
          </a>
        </li>
        <li class="text-center md:text-left">
          <a href="palindrome.html"
            class="flex items-center space-x-2 py-1 hover:text-white">
            <i class="fas fa-font"></i>
            <span class="hidden md:inline">Valid Palindrome</span>
          </a>
        </li>
        <li class="text-center md:text-left">
          <a href="water.html" onclick="setBacktrackingProblem('wordBreak')"
            class="flex items-center space-x-2 py-1 hover:text-white">
            <i class="fa-solid fa-layer-group"></i>
            <span class="hidden md:inline">Container With Most Water</span>
          </a>
        </li>
        <!-- <li class="text-center md:text-left">
          <a href="linklist.html" onclick="setBacktrackingProblem('nQueens')"
            class="flex items-center space-x-2 py-1 hover:text-white">
            <i class="fas fa-project-diagram"></i>
            <span class="hidden md:inline">linklist</span>
          </a>
        </li> -->
      </ul>
    </div>

    <!-- Main Content -->
    <div class="ml-16 md:ml-64 flex-1 p-8">
        <h1 id="problemTitle"
        class="text-6xl font-bold text-transparent bg-clip-text bg-gradient-to-r from-pink-500 via-purple-500 to-orange-500">
        Two Pointer Visualizer (Two Sum - All Pairs)</h1>


      <!-- Visualization Area -->
      <!-- <div id="queueContainer" class="queue-container" class="visualization mt-8 bg-gray-800 p-4 rounded"></div> -->
      <div class="container  mx-auto p-4  rounded-lg shadow-lg  mt-10">
    
        <div class="input-section space-y-4 mb-6">
          <div>
            <label for="arrayInput" class="block text-white-600">Enter Array (comma-separated):</label>
            <input 
              type="text" 
              id="arrayInput" 
              placeholder="e.g., 1,2,3,4,5,6"
              class="w-full p-2 border border-gray-300 rounded bg-gray-700 text-white-600"
            />
          </div>
          <div>
            <label for="targetInput" class="block text-white-600">Enter Target Sum:</label>
            <input 
              type="number" 
              id="targetInput" 
              placeholder="e.g., 10"
              class="w-full p-2 border border-gray-300 rounded bg-gray-700 text-white-600"
            />
          </div>
          <button 
            id="startVisualization" 
            class="w-full p-2 bg-blue-500 text-white font-semibold rounded hover:bg-blue-600">
            Start Visualization
          </button>
        </div>
    
        <div class="visualizer mb-6">
          <div id="arrayContainer" class="flex justify-center space-x-2"></div>
        </div>
    
        <div class="controls flex justify-center space-x-4">
          <button id="prevButton" class="p-2 bg-gray-500 text-white rounded hover:bg-gray-600">Previous</button>
          <button id="playPauseButton" class="p-2 bg-green-500 text-white rounded hover:bg-green-600">Play</button>
          <button id="nextButton" class="p-2 bg-gray-500 text-white rounded hover:bg-gray-600">Next</button>
          <button id="resetButton" class="p-2 bg-red-500 text-white rounded hover:bg-red-600">Reset</button>
        </div>
    
        <div class="output mt-6">
          <h2 class="text-xl font-semibold text-white-800 text-center">Output</h2>
          <div id="outputContainer" class="text-center mt-2 text-white-600">No pairs found yet.</div>
        </div>
      </div>
    
      <!-- Problem Description -->
      <div class="p-6 mt-4 bg-gray-800 rounded-lg shadow-lg space-y-4" id="problemDescription">
        <h2 class="text-3xl font-bold text-transparent bg-clip-text bg-gradient-to-r from-pink-500 via-purple-500 to-orange-500" id="problemTitle">
            Two Pointer Visualizer (Two Sum - All Pairs)
        </h2>
        <p class="text-gray-300 leading-relaxed" id="problemDescriptionText">
            The Two Sum Problem is a classic algorithmic challenge that asks you to find two numbers in an array that sum up to a given target value. Given an array of integers and a target sum, the task is to determine if there are two distinct numbers in the array whose sum equals the target.One of the most efficient solutions to this problem is using the Two Pointers Technique.
        </p>
        
        <!-- Time Complexity Section -->
        <div class="bg-gray-700 p-4 rounded-lg">
            <h3 class="text-xl font-semibold text-transparent bg-clip-text bg-gradient-to-r from-blue-400 to-blue-600 mb-2">
                Time Complexity:
            </h3>
            <p class="text-gray-300">
                <strong>Best Case:</strong> O(n) (Array is already sorted)<br>
                        <strong>Average and Worst Case:</strong> O(n log n) (Array needs sorting).
            </p>
        </div>
        
        <!-- Space Complexity Section -->
        <div class="bg-gray-700 p-4 rounded-lg">
            <h3 class="text-xl font-semibold text-transparent bg-clip-text bg-gradient-to-r from-green-400 to-green-600 mb-2">
                Space Complexity:
            </h3>
            <p class="text-gray-300">
                <strong>Best Case:</strong> O(1)<br>
                <strong>Average and Worst Case:</strong> O(n) (If sorting requires extra space).
            </p>
        </div>
    
        <!-- Additional Problem Information -->
        <p class="text-gray-400 italic">
            Using two pointers, one starting at the beginning and the other at the end ,If the sum of the numbers is greater than the target, move the end pointer left; otherwise, move the start pointer right.
        </p>
    </div>

    </div>
  </div>
</body>
<script>
    const arrayInput = document.getElementById('arrayInput');
const targetInput = document.getElementById('targetInput');
const startButton = document.getElementById('startVisualization');
const arrayContainer = document.getElementById('arrayContainer');
const outputContainer = document.getElementById('outputContainer');
const playPauseButton = document.getElementById('playPauseButton');
const prevButton = document.getElementById('prevButton');
const nextButton = document.getElementById('nextButton');

let array = [];
let target = 0;
let left = 0;
let right = 0;
let pairs = [];
let interval = null;
let isPlaying = false;

function visualize() {
  arrayContainer.innerHTML = '';
  array.forEach((num, index) => {
    const div = document.createElement('div');
    div.className = 'w-10 h-10 flex items-center justify-center text-sm border-2 border-gray-700 rounded-full';
    div.textContent = num;
    if (index === left || index === right) {
      div.classList.add('bg-blue-500', 'text-white');
    } else {
      div.classList.add('bg-white-200');
    }
    arrayContainer.appendChild(div);
  });
}

function findPairs() {
  pairs = [];
  left = 0;
  right = array.length - 1;

  while (left < right) {
    const sum = array[left] + array[right];
    if (sum === target) {
      pairs.push([array[left], array[right]]);
      left++;
      right--;
    } else if (sum < target) {
      left++;
    } else {
      right--;
    }
  }
}

function updateOutput() {
  if (pairs.length === 0) {
    outputContainer.textContent = 'No pairs found';
  } else {
    outputContainer.textContent = `Pairs found: ${pairs
      .map(pair => `[${pair[0]}, ${pair[1]}]`)
      .join(', ')}`;
  }
}

function nextStep() {
  if (left >= right) {
    updateOutput(); // Update output when the process is complete.
    return;
  }

  const sum = array[left] + array[right];
  if (sum === target) {
    // Add the pair only if it doesn't already exist in the pairs array
    const pair = [array[left], array[right]];
    if (!pairs.some(existingPair => existingPair[0] === pair[0] && existingPair[1] === pair[1])) {
      pairs.push(pair);
    }
    left++;
    right--;
  } else if (sum < target) {
    left++;
  } else {
    right--;
  }

  visualize();
}


function play() {
  isPlaying = true;
  interval = setInterval(() => {
    if (left >= right) {
      clearInterval(interval);
      updateOutput();
      isPlaying = false;
    } else {
      nextStep();
    }
  }, 1000);
}

function pause() {
  clearInterval(interval);
  isPlaying = false;
}

startButton.addEventListener('click', () => {
  array = arrayInput.value.split(',').map(Number);
  target = Number(targetInput.value);
  findPairs();
  left = 0;
  right = array.length - 1;
  visualize();
});


playPauseButton.addEventListener('click', () => {
  if (isPlaying) {
    pause();
    playPauseButton.textContent = 'Play';
  } else {
    play();
    playPauseButton.textContent = 'Pause';
  }
});

nextButton.addEventListener('click', nextStep);
prevButton.addEventListener('click', () => {
  if (left > 0) left--;
  if (right < array.length - 1) right++;
  visualize();
});
const resetButton = document.getElementById('resetButton');

resetButton.addEventListener('click', () => {
  // Clear variables
  array = [];
  target = 0;
  left = 0;
  right = 0;
  pairs = [];
  clearInterval(interval); // Stop any ongoing process
  isPlaying = false;

  // Clear the UI
  arrayInput.value = '';
  targetInput.value = '';
  arrayContainer.innerHTML = '';
  outputContainer.textContent = 'No pairs found yet.';

  // Reset Play/Pause button text
  playPauseButton.textContent = 'Play';
});

</script>

</html>